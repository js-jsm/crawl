<html>
<head>
  <meta charset="utf-8">
  <title>막대 그래프2</title>
  <script
  type="text/javascript"
  src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"
  charset="utf-8"></script>
</head>
<body>
  <script>
    const dataset = [30, 25, 44, 21, 30, 50];
    const width = 600;
    const height = 400;
    const bar_h = parseInt((height / dataset.length), 10);
    const bar_w = parseInt((width / 50), 10);

    const svg = d3.select('body')
    .append('svg')
    .attr('width', width)
    .attr('height', height);
    // 스케일 자동 계산
    const x_scale = d3.scale.linear().domain([0, d3.max(dataset)]).range([0, width]);

    svg.selectAll('rect').data(dataset).enter().append('rect').attr({
      x: 0,
      width: d => x_scale(d),
      y: (d, i) => i * bar_h,
      height: (bar_h - 5),
      fill: 'blue',
    })
  </script>
</body>
</html>
